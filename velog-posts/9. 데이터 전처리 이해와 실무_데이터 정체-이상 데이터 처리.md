<p>데이터 정제 과정 내 이상치와 이상치 판단을 알아보고 처리 방안을 어떤 것들이 있는지 알아보자. </p>
<h3 id="이상치-정의">이상치 정의</h3>
<p>관측된 데이터 내 전체적 패턴에서 아주 작게 혹은 아주 크게 벗어난 값을 말한다. 데이터 분석 과정에 영향을 미쳐 분석 결과 및 의사 결정의 왜곡을 불러올 수 있기 때문에 전처리 과정에서 반드시 수행해야 한다. </p>
<p>유형)</p>
<ul>
<li>오류 데이터 : 센서나 기기등의 오류로 잘못 수집된 경우</li>
<li>실제 데이터 : 실제 극단적 관측치인 경우</li>
</ul>
<p>실제로는 존재하지만 전체적인 범주과 패턴에 흐트러지는 값을 의미한다. 잘못된 데이터인지 의미를 가지는지 확인이 어렵다. </p>
<h4 id="이상치-처리-프로세스">이상치 처리 프로세스</h4>
<p>데이터 관점의 통계적 방안 : Z-score IQR
비즈니스 관점의 인적 판단 방안 : 현업 관리자
위를 따라 이상치를 처리한다. 
<img alt="" src="https://velog.velcdn.com/images/ehekaanldk/post/322f1148-408b-4284-9da2-1e67a99aaa2d/image.png" /></p>
<p>도메인 지식이 부족할 경우에는 통계적 방안에 의존할 수 있다. 이상치로 정의한 후의 이상처 처리를 삭제할 지 대체 변경할지 고려한다. </p>
<h3 id="이상치-판단-방법">이상치 판단 방법</h3>
<ul>
<li>Z-Score : 데이터의 분포를 정규분포로 변환하여 평균으로 부터 얼마의 표준편차 만큼을 벗어나는지를 스코어로 나타낸다. -3이하 3이상의 값을 이상치로 정의한다. <ul>
<li>Z=(해당 관측치- 관측치 변수 평균)/ (관측치 변수의 표준편차)</li>
</ul>
</li>
</ul>
<ul>
<li>IQR(interquartile range) : 사분위수 개념을 바탕으로 데이터의 이상치를 정의한다. max, min 범위를 벗어난 값을 이상치로 정의한다. </li>
</ul>
<h3 id="이상치-처리-방안">이상치 처리 방안</h3>
<ul>
<li>이상치 삭제 : 대체 방안이 없거나 이상치의 수가 적을 경우<ul>
<li>데이터의 손실이 발생하는 단점</li>
</ul>
</li>
<li>이상치 대체 및 변경 : 최대한 데이터를 활용할 목적<ul>
<li>현업/데이터 관점을 신중히 고려하여 적용 필요</li>
<li>데이터가 의미를 지닐 경우 <strong>log 변환</strong> 등을 활용한 데이터 간격 조정으로 변경</li>
</ul>
</li>
</ul>
<h4 id="실습">실습</h4>
<p>데이터 : 기사 별 클릭 수 데이터
<img alt="" src="https://velog.velcdn.com/images/ehekaanldk/post/7f5cc69e-e34f-464c-9219-b50ba71ae18b/image.png" /></p>
<p>info() : 데이터 개요 파악
copy() : 데이터 카피
describe() : 요약 통계 확인</p>
<hr />
<p>이상치 제거하기</p>
<p>z-score
· Z-soore 수식
. Z= (r-mean)/(std.dev)
• Z=(해당 관측치- 관측치 변수 평균)/ (관측치 변수의 표준편차)</p>
<p>scipy 내 zscore() 함수를 제공한다. </p>
<p>IQR을 구하기 위해 1분위수(0.25)와 3분위수(0.75)를 구한다. 3분위수 - 1분위수 로 IQR를 구한다. </p>
<p>IQR 기반으로 min와 max를 정의하여 이상치를 제거한다. </p>
<pre><code>click_copy = click_copy[ (click_copy['num_click&quot;] &gt; (q1 - 1.5*iqr)) &amp; (click_copy[&quot;num_click&quot;] &lt; (q3 + 1.5*iqr))]
click_copy.describe()</code></pre><hr />
<p>이상치 대체하기</p>
<p>대체할 기준을 정의하여 이상치의 경우 대체한다. 데이터의 수는 줄어들지 않지만 기존 도메인 지식과 관리자와의 협의를 통해 진행한다. </p>
<p>정리)</p>
<p>이상치 정의
• 관측된 데이터 내 전체적 패턴에서 아주 작게 혹은 아주 크게 벗어난 값</p>
<p>이상치 판단하기
• 통계적 판단 및 현업 비즈니스 관점 판단 방안을 기반으로 이상치 판단</p>
<p>이상치 처리하기
• 삭제, 대체, 변경 등을 통해 모델 학습 이전 이상치 처리 가능</p>