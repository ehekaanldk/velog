---
title: "10. 데이터 전처리 이해와 실무_데이터 변환-정규화, 구간화"
date: "2025-03-23"
link: "https://velog.io/@ehekaanldk/10.-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%84%EC%B2%98%EB%A6%AC-%EC%9D%B4%ED%95%B4%EC%99%80-%EC%8B%A4%EB%AC%B4%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B3%80%ED%99%98-%EC%A0%95%EA%B7%9C%ED%99%94-%EA%B5%AC%EA%B0%84%ED%99%94"
series: "Post_AIVLE"
---

<p>연속형 데이터의 범주형 변환인 구간화와 연속형 데이터의 스케일 기반 변환을 위한 정규화를 학습하고 실제 데이터에 적용하기 위해 알아보자. 연속형 데이터를 기계학습 모델링에 적용하기 위해서는 변수 간의 상대적 크기 차이를 제거할 필요가 반드시 존재한다. </p>
<h3 id="변수-변환-개요">변수 변환 개요</h3>
<h4 id="데이터-변환transformation">데이터 변환(transformation)</h4>
<p>여러 형태(범주형, 연속형 등)로 표현된 데이터 값을 다양한 분석 방법론에 적용하기 위해 원시 형태에서 다른 형식으로 바꾸는 과정을 데이터 변환이라 한다. 
주어진 목적 기반의 올바른 결과 획득을 위하여 원시 데이터를 <strong>데이터 분석에 용이하도록 형태를 변환한다.</strong> </p>
<p>목적과 특징</p>
<ul>
<li>빠른 특성 파악 : 데이터의 특성을 빠르게 파악 ('연령'이라는 변수를 '연령대'로 단순화)</li>
<li>분석 알고리즘 적용 : 변수 간의 범위가 다를 경우 알고리즘 적용 시 영향력 차이가 발생</li>
</ul>
<h3 id="구간화-binning">구간화, binning</h3>
<p>구간화는 <strong>연속형 데이터</strong>를 구간으로 구별하여 <strong>범주화 형태로 변환</strong>하는 방법이다. 구간화를 지정 길이 기반 방안과 분포 기반 방안으로 구분할 수 있다. </p>
<ul>
<li>지정 길이 기반 구간 정의 : 사용자 기준(도메인, 관리자 등)으로 구간의 길이를 정의한다. </li>
<li>분포 기반 구간 정의 : 각 구간 내 동일한 개수로 구분되도록 구간을 나눈다. </li>
</ul>
<p>연령대의 데이터의 경우 분포 기반 구간 정의를 하였을 때, 촘촘하게 나누어지거나 넓게 나누어질 수 있다. </p>
<h3 id="정규화-normalization">정규화, normalization</h3>
<p>정규화는 <strong>연속형 데이터의 변환</strong>으로 데이터 탐색 및 기계학습 적용을 위한 방안이다. 정규화를 최대-최소 정규화와 z-점수 정규화 방안으로 구분할 수 있다. </p>
<p>스케일링 기반의 변환으로 수치 데이터 간의 상대적 크기 차이를 줄이는 방안인 <strong>스케일을 기반</strong>으로 한다. </p>
<ul>
<li><p>최대-최소 정규화 : 0에서 1사이로 변환</p>
<ul>
<li>특정 데이터의 위치를 파악할 수 있다. 
<img alt="" src="https://velog.velcdn.com/images/ehekaanldk/post/ec9e5c57-cda8-41b0-9d4f-8c69c11a346b/image.png" /></li>
</ul>
</li>
<li><p>Z-점수 정규화(표준화) : 0을 중심으로 양쪽 데이터 분포</p>
<ul>
<li>평균과 얼마나 떨어져 있는지 파악할 수 있다.
<img alt="" src="https://velog.velcdn.com/images/ehekaanldk/post/eebc7780-9f81-4d75-8364-7e88f44f0a7c/image.png" /></li>
</ul>
</li>
</ul>
<p>주어진 데이터에 따라서 어떤 정규화가 용이한지 다르다. 이미지 분석 시에 픽셀 강도를 r,g,b 색상 범위와 같이 주어진 범위에 값을 맞추어야 하는 경우에는 최대-최소 정규화가 많이 사용된다. 주성분 분석 pca의 경우에는 Z-점수 정규화(표준화)가 많이 사용된다. </p>
<h4 id="실습">실습</h4>
<p>데이터 : 기사 별 클릭 수 데이터</p>
<p>넘파이와 판다스 라이브러리 사용</p>
<ol>
<li>지정 길이 기반 구간: 데이터 범워를 사용자의 기준대로 정의하고 구간화</li>
<li>분포 기반 구간: 각 데이터가 모든 구간 내 동엘한 개수로 구분되도록 구간화</li>
</ol>
<p>단순 클릭 수를 선호도 기사로 정의할 수 있는가? 이는 카테고리와 클릭을 유도하는 여러 요소가 있기에 정의할 수 없다.</p>
<p>지정 길이 기반의 구간화는 cut()함수로 정의한 구간에 맞게 나눌 수 있다. </p>
<p>value_counts()로 해당 컬럼의 value값을 알 수 있다. </p>
<p>분포 기반의 구간화는 qcut()함수로 n 구간수를 정의하여 나눌 수 있다. </p>
<p>만일 qcut 실행 시 주로 발생하는 오류
• 데이터가 극단치의 Skewed 한 경우 발생
• 데이터의 각 구간은 동일할 수 없기 때운
• [1.1,1,1,1,3,8,10] 이라는 구간은 생성 불기능
• 그러한 경우에는 분포 기반 구간회(qcut) 보다 시용자 기준 기반 범주화 혹은 구간 개수 변화 고려</p>
<hr />
<ol>
<li>최대-최소 정규화: 변수 안의 값을 [0.1] 구간의 값을 갖도록 구성하고 데이터 군 내에서 특정 데이터가 가지는 위치를 보고자 할 때 사용</li>
<li>z-score 정규화: 특정 데이터가 핑균을 기준으로 얼마나 떨어져 있는지 파악하고 측정 스케일이 다른 경우의 데이터를 비교하는데 사용</li>
</ol>
<pre><code>from sklearn.preprocessing import MinMaxScaler
scaler = MinMaxScaler()</code></pre><p><strong>scaler.fit_transform</strong> 으로 최대-최소 정규화를 할 수 있다. </p>
<pre><code>from sklearn.preprocessing import StandardScaler
std_scaler = StandardScaler()</code></pre><p><strong>std_scaler.fit_transform</strong> 으로 z-score 정규화를 할 수 있다. </p>
<p>상황에 따라서 어떤 정규화를 수행하는지 달라지며, 수행한 것과 수행하지 않은 결과읯 ㅏ이가 큰 것이 중요한 포인트이다. 
연속형 데이터를 기계학습 모델링에 적용하기 위해서는 변수 간의 상대적 크기 차이를 제거할 필요가 반드시 존재한다. </p>
<p>정리)
데이터 변환
· 여러 형태로 표현된 데이터 값을 목적에 따라 다른 형식으로 바꾸는 과정</p>
<p>구간화
• 연속형 데이터의 범주형 변환 기반의 단순화 추구하여 특성 파악 용이</p>
<p>정규화
• 데이터 간격을 조정하여 데이터의 위치, 분포 파악 및 기계학습 적용 준비 과정</p>
